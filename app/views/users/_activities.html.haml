= javascript_include_tag "sorttable.js"
- if @activities.count > 0
	%div{:class => "formcontentdiv_small", :style=>"margin-left:0px;border-color:#f5f5f5;padding:10px 0px 0px 0px;"}
		%table{:class=>"sortable", :id=>"activities", :style=>"height:100%;width:100%;border:none;"}
			%thead{:style=>"display:block;"}
				%tr
					%th{:id=>"action",:style=>"height:20px;width:442px;"} Action
					%th{:id=>"time",:style=>"height:20px;width:145px;"} Time
					%th{:id=>"score",:style=>"height:20px;width:50px;"} Score
			%tbody{:style=>"height:128px;overflow:auto;"}
				- @activities.each do |activity|
					%tr
						%td{:style=>"width:442px;height:16px;padding:0px 0px 0px 2px;text-align:left;overflow:hidden;text-overflow:ellipsis;border-right:1px solid whiteSmoke;"}
							- if activity[:action].include?('deleted')
								- color='red'
							- else  
								- color='green'
								%span{:id=>"type", :style=>"color:#{color};"}
									= activity[:action] 
								= activity[:type] +': '
								%span{:id=>"type", :style=>"color:#4EB8DB;",:title=>"#{activity[:what].html_safe}"}
									= activity[:what].html_safe
						%td{:sorttable_customkey=>DateTime.parse(activity[:time].to_s).strftime('%Y%m%d%H%M%S').to_s, :style=>"width:145px;border-right:1px solid whiteSmoke;"}
							= DateTime.parse(activity[:time].to_s).strftime('%m/%d/%y-%R')
						%td{:sorttable_customkey=>activity[:score].to_s, :style=>"width:50px;"}
							- if activity[:score]
								- if !activity[:action].include?('deleted')
									- score = "+"+activity[:score].abs.to_s
									%span{:id=>"score", :style=>"color:green;"}
										= score
								- else
									- score = "-"+activity[:score].abs.to_s
									%span{:id=>"score", :style=>"color:red;"}
										= score
							- else
								%span{:id=>"score", :style=>"color:#434343;"}
									= '--'
  
-else
	%div{:class => "formcontentdiv_small", :style=>"margin-left:0px;border-color:#f5f5f5;padding:21px 5px 10px 5px;"}
		%div{:class=>"activity_container", :style=>"font-weight:bold; color:#bebebe;"}
			No events have been recorded yet. 
